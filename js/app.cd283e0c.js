(function(){"use strict";var t={8266:function(t,e,a){var n=a(3751),i=a(641);const r={id:"app"};function o(t,e,a,n,o,s){const d=(0,i.g2)("MainPage");return(0,i.uX)(),(0,i.CE)("div",r,[(0,i.bF)(d)])}const s=t=>((0,i.Qi)("data-v-34b46807"),t=t(),(0,i.jt)(),t),d={class:"container"},c={class:"content"},l=(0,i.Fv)('<div class="header-section" data-v-34b46807><h1 data-v-34b46807>The Relationship Between Temperature and CO2 Emissions</h1></div><div class="top-section" data-v-34b46807><div class="graph-container" data-v-34b46807></div><div class="text-section" data-v-34b46807> The relationship between atmospheric temperature and carbon dioxide (CO2) emissions is a cornerstone topic in the study of climate change. It&#39;s widely accepted in the scientific community that there is a strong correlation between the two, primarily driven by the greenhouse effect. <br data-v-34b46807><h4 data-v-34b46807>Explore left chart of the UK&#39;s per capita carbon emissions over the last two centuries and an interactive UK map with weather stations. Gain insights into historical carbon footprints and temperature trends, along with a 5-day weather forecast.</h4><ul style="list-style-type:square;" data-v-34b46807><li data-v-34b46807>Understand the long-term trends in carbon emissions and their impact.</li><li data-v-34b46807>Access historical data trend and forecasted weather.</li><li data-v-34b46807>Engage with climate data through an interactive and user-friendly interface.</li></ul> Heating Degree Days(HDD) is computed when daily average temperature is less than 18.3°C/65°F. <br data-v-34b46807> HDD = 18.3° – mean daily temperature to tenths degree Celsius. Each day is summed to produce a monthly total. </div></div>',2),u={class:"map-section"},p=s((()=>(0,i.Lk)("div",{class:"explain"}," This map displays historical data from various weather stations. To view data and trends, click on the weather station icons. For a forecast of the next five days' weather, click the button in the top left corner. ",-1)));function h(t,e,a,n,r,o){const s=(0,i.g2)("IndMap");return(0,i.uX)(),(0,i.CE)("div",d,[(0,i.Lk)("div",c,[l,(0,i.Lk)("div",u,[(0,i.bF)(s)]),p])])}var m=a(33);const v=t=>((0,i.Qi)("data-v-4c45bd6f"),t=t(),(0,i.jt)(),t),f={id:"map-container"},g=v((()=>(0,i.Lk)("div",{id:"map"},null,-1))),y={class:"container text-center"},b=v((()=>(0,i.Lk)("div",{class:"title"},"5 Day Weather Forecast",-1))),w={class:"text-list"},C={class:"weather-info"},k=["src"],T=v((()=>(0,i.Lk)("br",null,null,-1)));function x(t,e,a,n,r,o){const s=(0,i.g2)("ToggleFloatButton");return(0,i.uX)(),(0,i.CE)("div",f,[g,(0,i.bF)(s,{initialVisible:r.isFloatWindowVisible,"onUpdate:visible":o.updateVisibility},null,8,["initialVisible","onUpdate:visible"]),(0,i.Lk)("div",{class:(0,m.C4)(["left-float-window",{hidden:!r.isFloatWindowVisible}])},[(0,i.Lk)("div",y,[b,(0,i.Lk)("div",w,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.forecastGroupedByDate,((t,e)=>((0,i.uX)(),(0,i.CE)("div",{key:e,class:"date-group"},[(0,i.Lk)("div",C,(0,m.v_)(t),1),(0,i.Lk)("img",{src:o.getImageUrl(t.split(" : ")[2]),alt:"Weather Image",class:"weather-image"},null,8,k),T])))),128))])])],2)])}a(4114);var E=a(842),D=a.n(E),_=a(8828),F=a(4809),U=a.n(F);function I(t,e){for(let a=0;a<t.length;a++){const n=t[a];if(n.coordinates[0]===e[0]&&n.coordinates[1]===e[1])return!0}return!1}function A(t,e,a,n,r,o){return(0,i.uX)(),(0,i.CE)("button",{onClick:e[0]||(e[0]=(...t)=>n.toggle&&n.toggle(...t))},(0,m.v_)(n.isVisible?"Hide":" Forecast Weather"),1)}var L=a(953),M={props:{initialVisible:{type:Boolean,default:!0}},setup(t,{emit:e}){const a=(0,L.KR)(t.initialVisible),n=()=>{a.value=!a.value,e("update:visible",a.value)};return{isVisible:a,toggle:n}}},P=a(6262);const O=(0,P.A)(M,[["render",A],["__scopeId","data-v-50f669a1"]]);var j=O;function K(t,e,a,n,r,o){return(0,i.uX)(),(0,i.CE)("div",{ref:"chart",style:(0,m.Tr)({width:a.width+"px",height:a.height+"px"})},null,4)}var S=a(3680),B={name:"EChartsComponent",props:{chartType:{type:String,required:!0},dataUrl:{type:String,required:!0},xColumn:{type:String,required:!0},yColumn:{type:String,required:!0},width:{type:[String,Number],required:!0},height:{type:[String,Number],required:!0}},data(){return{chartInstance:null}},watch:{dataUrl:{immediate:!0,handler(t){this.loadData(t)}}},mounted(){this.chartInstance=S.Ts(this.$refs.chart)},beforeUnmount(){this.chartInstance&&this.chartInstance.dispose()},methods:{async loadData(t){try{const e=await fetch(t),a=await e.text();U().parse(a,{header:!0,dynamicTyping:!0,complete:t=>{this.createChart(t.data)}})}catch(e){console.error("Error loading data:",e)}},createChart(t){const e=t.filter((t=>{const e=String(t[this.xColumn]).toLowerCase(),a=String(t["HTDD"]).toLowerCase(),n=String(t[this.yColumn]).toLowerCase();return"undefined"!==e&&"null"!==n&&"null"!==a})),a=e.map((t=>t[this.xColumn])),n=e.map((t=>{const e=parseFloat(t["HTDD"]);return isNaN(e)?null:e})),i=e.map((t=>{const e=parseFloat(t[this.yColumn]);return isNaN(e)?null:e})),r={tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},legend:{data:["Monthly HDD","Temperature"]},xAxis:[{type:"category",data:a,axisPointer:{type:"shadow"}}],yAxis:[{type:"value",name:"HDD (Millimeters)",min:0,max:6e3,interval:600,axisLabel:{formatter:"{value} m"}},{type:"value",name:"Temperature",min:0,max:25,interval:5,axisLabel:{formatter:"{value} °C"}}],series:[{name:"Monthly HDD",type:"bar",data:n},{name:"Temperature",type:"line",yAxisIndex:1,data:i}]};this.chartInstance.setOption(r)}}};const H=(0,P.A)(B,[["render",K],["__scopeId","data-v-25cd1052"]]);var V=H;let W={};var N={name:"IndMap",components:{ToggleFloatButton:j},data(){return{map:null,markers:[],addedMarkers:[],isFloatWindowVisible:!1,chartType:"line",dataUrl:"./data/uk_climate/UK000000000.csv",ColumnNameForX:"DATE",ColumnNameForY:"TAVG",chartWidth:800,chartHeight:300,openWeatherAPI:"51a4229e709d79b1b3f625724a2a8a25",forecastGroupedByDate:[]}},mounted(){this.initializeMap(),this.updateChartDimensions(),window.addEventListener("resize",this.updateChartDimensions)},beforeUnmount(){Object.keys(W).forEach((t=>{W[t]&&W[t].unmount()}))},methods:{updateVisibility(t){this.isFloatWindowVisible=t},initializeMap(){D().accessToken="pk.eyJ1IjoieDBsZW0iLCJhIjoiY2xyaHA2ejVkMDFsejJrcG43MDA3bjBsaiJ9.Q5hsTi_sqF2QKkZjsII_Ag",this.map=new(D().Map)({container:"map",style:"mapbox://styles/mapbox/dark-v10",center:[-4.83,54.42],zoom:5.1}),this.map.scrollZoom.disable(),this.map.addControl(new(D().NavigationControl)),this.map.dragRotate.disable(),this.map.touchZoomRotate.disableRotation(),this.map.on("load",(()=>{this.setMap(this.map)}))},setMap(t){this.addBoundaryLayer(t),this.addPopupContent("./data/uk_climate/UK000000000.csv"),this.addPopupContent("./data/uk_climate/UK000003005.csv"),this.addPopupContent("./data/uk_climate/UK000003026.csv"),this.addPopupContent("./data/uk_climate/UK000003162.csv"),this.addPopupContent("./data/uk_climate/UK000003302.csv"),this.addPopupContent("./data/uk_climate/UK000003377.csv"),this.addPopupContent("./data/uk_climate/UKE/UKE00102158.csv"),this.addPopupContent("./data/uk_climate/UKE/UKE00105630.csv"),this.addPopupContent("./data/uk_climate/UKE/UKE00105636.csv"),this.addPopupContent("./data/uk_climate/UKE/UKE00105642.csv"),this.addPopupContent("./data/uk_climate/UKE/UKE00105861.csv")},addBoundaryLayer(t){fetch("./data/uk-counties_1682.geojson").then((t=>t.json())).then((e=>{t.addSource("gbp-data",{type:"geojson",data:e}),t.addLayer({id:"gbp-layer",type:"fill",source:"gbp-data",layout:{},paint:{"fill-color":"#E1FFFF","fill-opacity":.6}})})).catch((t=>console.log(t)))},addPopupContent(t){_.fu7(t).then((e=>{const a=e.map((t=>+t.TMAX)),n=e.map((t=>+t.EMNT)),i=_.T9B(a),r=_.jkA(n);this.markers=e.map((e=>{const a=`chart-${e.DATE}`;return{coordinates:[parseFloat(e.LONGITUDE),parseFloat(e.LATITUDE)],popupContent:`<div class="popup-content"><h3>All-time low temperature: ${i} <br/>\n            All-time high temperature: ${r}</h3><p>Historical average annual temperature</p><div id="${a}"></div></div>`,id:e.DATE,chartContainerId:a,dataUrl:t}})),this.addMarkers()}))},addMarkers(){this.markers.forEach((t=>{if(0==this.addedMarkers.length||!I(this.addedMarkers,t.coordinates)){const e=document.createElement("div");e.className="popup-content",e.innerHTML=t.popupContent,this.addedMarkers.push(t);const a=new(D().Popup)({maxWidth:"1920px"}).setDOMContent(e),n="./station.png",i=document.createElement("div"),r=document.createElement("img");r.src=n,r.style.width="50px",r.style.height="50px",i.appendChild(r),new(D().Marker)(i).setLngLat(t.coordinates).setPopup(a).addTo(this.map),a.on("open",(()=>{this.mountD3Chart(t.chartContainerId,t.dataUrl)})),i.addEventListener("click",(()=>{this.loadForecast(t.coordinates[1],t.coordinates[0])}))}}))},mountD3Chart(t,e){const a={chartType:this.chartType,dataUrl:e,xColumn:this.ColumnNameForX,yColumn:this.ColumnNameForY,width:this.chartWidth,height:this.chartHeight},i=document.getElementById(t);if(i){W[t]&&W[t].unmount();const e=(0,n.Ef)(V,a);W[t]=e,e.mount(i)}},updateChartDimensions(){this.chartWidth=window.innerWidth/2.5,this.chartHeight=window.innerHeight/4},convertTimestampToDate(t){const e=new Date(1e3*t);return e.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit"})},groupForecastByDate(t){const e={};return t.forEach((t=>{const a=this.convertTimestampToDate(t.dt);e[a]||(e[a]=t)})),e},formatGroupedForecast(t){const e=[];return Object.keys(t).forEach((a=>{const n=t[a],i=n.main.feels_like.toFixed(2)+"°C",r=n.weather[0].description;e.push(`${a} : ${i} : ${r}`)})),e},loadForecast(t,e){const a=`https://api.openweathermap.org/data/2.5/forecast?lat=${t}&lon=${e}&appid=${this.openWeatherAPI}&units=metric`;fetch(a).then((t=>{if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return t.json()})).then((t=>{const e=this.groupForecastByDate(t.list);this.forecastGroupedByDate=this.formatGroupedForecast(e)})).catch((t=>{console.error("Failed to fetch weather data:",t)}))},getImageUrl(t){const e={"scattered ":"./weather_icons/sun_rain.png","light rain":"./weather_icons/rain.png","overcast clouds":"./weather_icons/going_rain.png","clear sky":"./weather_icons/sun.png","few clouds":"./weather_icons/few_clouds.png"};return e[t]||"./weather_icons/going_rain.png"}}};const $=(0,P.A)(N,[["render",x],["__scopeId","data-v-4c45bd6f"]]);var G=$,X=a(4863),q={name:"global-map",components:{IndMap:G},mounted(){this.loadAndProcessCSV()},methods:{loadAndProcessCSV(){(0,X.fu)("./data/GB_sum.csv").then((t=>{this.displayCO2Data(t)}))},displayCO2Data(t){const e=t.map((t=>({year:t["Year"],total:parseFloat(t["Total"])}))),a=e.map((t=>t.year)),n=e.map((t=>t.total)),i=document.querySelector(".graph-container"),r=S.Ts(i),o={title:{text:"CO2 Emissions Over Time in United Kingdom"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:a},yAxis:{type:"value",axisLabel:{formatter:"{value} Tonnes"}},series:[{data:n,type:"line",smooth:!1}]};r.setOption(o)}}};const R=(0,P.A)(q,[["render",h],["__scopeId","data-v-34b46807"]]);var z=R,J={name:"App",components:{MainPage:z}};const Q=(0,P.A)(J,[["render",o]]);var Y=Q;(0,n.Ef)(Y).mount("#app")}},e={};function a(n){var i=e[n];if(void 0!==i)return i.exports;var r=e[n]={exports:{}};return t[n].call(r.exports,r,r.exports,a),r.exports}a.m=t,function(){var t=[];a.O=function(e,n,i,r){if(!n){var o=1/0;for(l=0;l<t.length;l++){n=t[l][0],i=t[l][1],r=t[l][2];for(var s=!0,d=0;d<n.length;d++)(!1&r||o>=r)&&Object.keys(a.O).every((function(t){return a.O[t](n[d])}))?n.splice(d--,1):(s=!1,r<o&&(o=r));if(s){t.splice(l--,1);var c=i();void 0!==c&&(e=c)}}return e}r=r||0;for(var l=t.length;l>0&&t[l-1][2]>r;l--)t[l]=t[l-1];t[l]=[n,i,r]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,n){var i,r,o=n[0],s=n[1],d=n[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(i in s)a.o(s,i)&&(a.m[i]=s[i]);if(d)var l=d(a)}for(e&&e(n);c<o.length;c++)r=o[c],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(l)},n=self["webpackChunktemeperature_view"]=self["webpackChunktemeperature_view"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(8266)}));n=a.O(n)})();
//# sourceMappingURL=app.cd283e0c.js.map